# 字符战争

## 休闲模式

### 创建初始项目

1. 创建空白.net core项目

    - [x] 创建空白项目
    - [x] 创建单元测试项目
    
2. 创建初始界面

    > 统一语言：
    >
    > 棋盘: Checkerboard
    >
    > 当前候选棋子: CurrentCandidate
    > 
    > 下一个候选棋子: NextCandidate
    > 

    - [x] 创建空白棋盘
    
        > 空白棋盘按照如下格式显示：
        > ``` bash
        > [  ] [  ] [  ] [  ]
        > [  ] [  ] [  ] [  ]
        > [  ] [  ] [  ] [  ]
        > [  ] [  ] [  ] [  ]
        > ```
    
    - [x] 创建候选数字1和候选数字2
    
        > 候选数字显示在棋盘下方，整体显示格式如下：
        > ```bash
        > [  ] [  ] [  ] [  ]
        > [  ] [  ] [  ] [  ]
        > [  ] [  ] [  ] [  ]
        > [  ] [  ] [  ] [  ]
        > Next: 1; Current: 1
        > ```

3. 落子

    > 统一语言：
    >
    > 落子: Place
    >
    > 棋子: Piece
    >
    
    1. 更新棋盘和候选数
        - [x] 在棋盘（0,0）的位置上，放置候选数字1
        - [x] 将候选数字2前移变成候选数字1
        - [x] 生成新的候选数字2，数值为1
        
        > 整体的界面显示如下：
        > ```bash
        > [ 1] [  ] [  ] [  ]
        > [  ] [  ] [  ] [  ]
        > [  ] [  ] [  ] [  ]
        > [  ] [  ] [  ] [  ]
        > Next: 1; Current: 1
        > ```
    
    2. 落子位置检查
        - [x] 如果放置的位置已经有棋子的时候，无效

4. 合成

    > 统一语言：
    >
    > 合成: Combine
    >
    
    - [x] 合成规则
        1. 落子后，检测周围的8个位置（超出棋盘边界的位置忽略）的棋子，将和落子的值相同的棋子清空。
        2. 将新放置的棋子的值加一
        3. 重复步骤1和2，直到周围的位置没有和放置的棋子相同的值
        
        - 通用合成场景:
        
            > 在游戏界面如下：
            > ```bash
            > [ 1] [  ] [  ] [  ]
            > [  ] [  ] [  ] [  ]
            > [  ] [  ] [  ] [  ]
            > [  ] [  ] [  ] [  ]
            > Next: 1; Current: 1
            > ```
            >
            > 放置候选棋子到(1,1)
            >
            > 合成后的游戏界面：
            > ```bash
            > [  ] [  ] [  ] [  ]
            > [  ] [ 2] [  ] [  ]
            > [  ] [  ] [  ] [  ]
            > [  ] [  ] [  ] [  ]
            > Next: 1; Current: 1
            > ```
        
        - 在边界合成场景:
            
            > 在游戏界面如下：
            > ```bash
            > [  ] [  ] [  ] [  ]
            > [  ] [ 1] [  ] [  ]
            > [  ] [  ] [  ] [  ]
            > [  ] [  ] [  ] [  ]
            > Next: 1; Current: 1
            > ```
            >
            > 放置候选棋子到(0,0)
            >
            > 合成后的游戏界面：
            > ```bash
            > [ 2] [  ] [  ] [  ]
            > [  ] [  ] [  ] [  ]
            > [  ] [  ] [  ] [  ]
            > [  ] [  ] [  ] [  ]
            > Next: 1; Current: 1
            > ```
            
        - 多次合成场景:
            
            > 在游戏界面如下：
            > ```bash
            > [ 1] [ 2] [ 3] [  ]
            > [  ] [  ] [  ] [  ]
            > [ 1] [  ] [ 5] [  ]
            > [  ] [  ] [  ] [  ]
            > Next: 1; Current: 1
            > ```
            >
            > 放置候选棋子到(1,1)
            >
            > 合成后的游戏界面：
            > ```bash
            > [  ] [  ] [  ] [  ]
            > [  ] [ 4] [  ] [  ]
            > [  ] [  ] [ 5] [  ]
            > [  ] [  ] [  ] [  ]
            > Next: 1; Current: 1
            > ```
            
    - [x] 修改候选棋子生成规则
        - 候选棋子的值在下限 `1` 和上限 `u` 之间随机生成，包含上限
        - `u` 的值为棋盘上最大棋子的值
        - 当 `u` 的值大于9时，`u` 为 `9`
    
    - [x] 加入计分
        
        - 合成时，吸收的数字计入得分
        - 初始得分为0

5. 游戏结束
    - [ ] 当棋盘上没有空位的时候，游戏结束
    - [ ] 游戏结束时，输出总得分